<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Heatmap v2 example</title>

        <!-- Visualizations -->
        <script src="/unipept.bundle.js"></script>
    </head>
    <body>
        <div id="heatmap"></div>
        <button id="cluster">Cluster!</button>

        <script>
          fetch('data/random_data_small.csv')
            .then((response) => response.text())
            .then((csv) => {
              const thisHeatmap = heatmap(csv, {
                parent: '#heatmap'
              });

              const button = document.querySelector('button#cluster');
              console.log(button);
              if (button) {
                console.log("Adding event listener");
                button.addEventListener('click', (event) => {
                  thisHeatmap.cluster("all");
                });
              }
            });
        </script>
    </body>
</html>
