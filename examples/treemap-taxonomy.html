<html>

  <head>
    <title>Treemap example</title>

    <!-- D3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js"></script>

    <!-- Visualisations -->
    <script src="../dist/unipept-visualizations.js"></script>

  </head>

  <body>
    <div id="d3Treemap"></div>

    <script>
        d3.json("data/taxonomy.json").then(data => {
            const ranks = ["no rank", "superkingdom", "kingdom", "subkingdom", "superphylum", "phylum", "subphylum", "superclass", "class", "subclass", "infraclass", "superorder", "order", "suborder", "infraorder", "parvorder", "superfamily", "family", "subfamily", "tribe", "subtribe", "genus", "subgenus", "species group", "species subgroup", "species", "subspecies", "varietas", "forma"];

            const treemap = new UnipeptVisualizations.Treemap(
                document.getElementById("d3Treemap"),
                data,
                {
                    width: 900,
                    height: 600,
                    levels: ranks.length,
                    getLevel: (d) => ranks.indexOf(d.data.extra.rank)
                }
            );
        });
    </script>
  </body>

</html>
